view [0,1] [0,0.9]

rule sierpinski:
    draw polygon
        point 0 0
        point 1 0
        point 0.5 0.866
    call sierpinski_part 0 0 0.5
    call sierpinski_part 0.5 0 0.5
    call sierpinski_part 0.25 0.433 0.5

rule sierpinski_part x y size:
    if size < 0.01 stop
    draw polygon
        point x y
        point x+size y
        point x+size/2 y+size*0.866
    call sierpinski_part x y size/2
    call sierpinski_part x+size/2 y size/2
    call sierpinski_part x+size/4 y+size*0.433 size/2

start sierpinski